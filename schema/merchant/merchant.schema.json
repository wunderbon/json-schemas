{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "$id": "https://bitbucket.org/wunderbon/json-schemas/raw/master/schema/merchant/merchant.schema.json",
  "title": "Merchant",
  "description": "Merchant representation within the wunderbon domain.",
  "type": "object",
  "properties": {
    "name": {
      "oneOf": [
        {
          "$ref": "https://bitbucket.org/wunderbon/json-schemas/raw/master/schema/name/legal/name.schema.json"
        },
        {
          "$ref": "https://bitbucket.org/wunderbon/json-schemas/raw/master/schema/name/private/name.schema.json"
        }
      ]
    },
    "address": {
      "$ref": "https://bitbucket.org/wunderbon/json-schemas/raw/master/schema/address/address.schema.json"
    },
    "communication": {
      "$ref": "https://bitbucket.org/wunderbon/json-schemas/raw/master/schema/communication/communication.schema.json"
    },
    "taxId": {
      "type": "string",
      "minLength": 3,
      "maxLength": 255,
      "pattern": "(?xi)^((AT)?U[0-9]{8} | (BE)?0[0-9]{9} | (BG)?[0-9]{9,10} | (HR)?[0-9]{11} | (CY)?[0-9]{8}[A-Z] | (CZ)?[0-9]{8,10} | (DE)?[0-9]{9} | (DK)?[0-9]{8} | (EE)?[0-9]{9} | (EL)?[0-9]{9} | ES[A-Z][0-9]{7}(?:[0-9]|[A-Z]) | (FI)?[0-9]{8} | (FR)?[0-9A-Z]{2}[0-9]{9} | (GB)?([0-9]{9}([0-9]{3})?|[A-Z]{2}[0-9]{3}) | (HU)?[0-9]{8} | (IE)?[0-9]{7}[A-Z]{1,2} | (IE)?[0-9][A-Z][0-9]{5}[A-Z] | (IT)?[0-9]{11} | (LT)?([0-9]{9}|[0-9]{12}) | (LU)?[0-9]{8} | (LV)?[0-9]{11} | (MT)?[0-9]{8} | (NL)?[0-9]{9}B[0-9]{2} | (PL)?[0-9]{10} | (PT)?[0-9]{9} | (RO)?[0-9]{2,10} | (SE)?[0-9]{12} | (SI)?[0-9]{8} | (SK)?[0-9]{10})$"
    }
  },
  "additionalProperties": false,
  "required": [
    "name",
    "address",
    "communication",
    "taxId"
  ]
}
